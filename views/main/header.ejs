<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khách sạn Haven Inn</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <!-- FullCalendar CSS -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.css" rel="stylesheet">

    <link href="https://cdn.datatables.net/v/dt/dt-2.1.8/datatables.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../public/stylesheets/main.css">

</head>

<body>

    <header class="navbar sticky-top flex-md-nowrap p-0 shadow bg-header" data-bs-theme="dark">
        <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-6 text-white" href="/web/home">Khách sạn Haven Inn</a>


        <!-- Phần các nút Thông báo, Cài đặt, Đăng xuất -->
        <ul class="nav flex-row align-items-center me-3">
            <li class="nav-item me-2 ">
                <a class="nav-link text-white position-relative" href="#" data-bs-toggle="modal"
                    data-bs-target="#notificationModal">
                    <img src="../../public/images/thongbao.png" alt="Thông báo" width="24" height="24" />
                    <!-- Vùng hiển thị số hoặc chấm tròn -->
                    <span id="notificationBadge" class="translate-middle badge rounded-pill bg-danger d-none">
                        0
                    </span>
                </a>
            </li>


            <li class="nav-item me-2">
                <a class="nav-link text-white" href="#">
                    <img src="../../public/images/setting.png" alt="Cài đặt" width="24" height="24" />
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link text-white" href="#" data-bs-toggle="modal" data-bs-target="#confirmLogOutModal">
                    <img src="../../public/images/logout.png" alt="Đăng xuất" width="24" height="24" />
                </a>
            </li>
        </ul>
    </header>

    <div class="container-fluid">
        <div class="row">
            <div class="sidebar border border-right col-md-3 col-lg-2 p-0 bg-body-tertiary position-fixed">
                <div class="offcanvas-md offcanvas-end bg-body-tertiary" tabindex="-1" id="sidebarMenu"
                    aria-labelledby="sidebarMenuLabel">
                    <div class="offcanvas-header">
                        <h5 class="offcanvas-title" id="sidebarMenuLabel">Khách sạn Haven Inn</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="offcanvas"
                            data-bs-target="#sidebarMenu" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body d-md-flex flex-column p-0 pt-lg-3 overflow-y-auto">
                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2 active" aria-current="page"
                                    href="/web/home">
                                    <img src="../../public/images/home.png" alt="Trang chủ" width="24" height="24" />
                                    Trang chủ
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="/web/nguoidungs">
                                    <img src="../../public/images/customer.png" alt="Quản lý khách hàng"
                                        width="24" height="24" />
                                    Quản lý khách hàng
                                </a>
                            </li>

                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="/web/loaiphongs">
                                    <img src="../../public/images/roomtype.png" alt="Quản lý loại phòng" width="24"
                                        height="24" />
                                    Quản lý loại phòng
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="/web/phongs">
                                    <img src="../../public/images/room.png" alt="Quản lý phòng" width="24"
                                        height="24" />
                                    Quản lý phòng
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="/web/hoadons">
                                    <img src="../../public/images/hoadon.png" alt="Quản lý hóa đơn" width="24"
                                        height="24" />
                                    Quản lý hóa đơn
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="/web/tiennghis">
                                    <img src="../../public/images/tiennghi.png" alt="Quản lý tiện nghi" width="24"
                                        height="24" />
                                    Quản lý tiện nghi
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="/web/dichvus">
                                    <img src="../../public/images/dichvu.png" alt="Quản lý dịch vụ" width="24"
                                        height="24" />
                                    Quản lý dịch vụ
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="/web/amthucs">
                                    <img src="../../public/images/amthuc.png" alt="Quản lý ẩm thực" width="24"
                                        height="24" />
                                    Quản lý ẩm thực
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="/web/hotros">
                                    <img src="../../public/images/hotro.png" alt="Quản lý hỗ trợ" width="24"
                                        height="24" />
                                    Quản lý hỗ trợ
                                </a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle d-flex align-items-center gap-2" href="#"
                                    id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <img src="../../public/images/coupon.png" alt="Quản lý coupon" width="24"
                                        height="24" />
                                    Quản lý coupon
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="userDropdown">
                                    <li>
                                        <a class="dropdown-item d-flex align-items-center gap-2" href="/web/coupons">
                                            <img src="../../public/images/coupon.png" alt="Quản lý coupon" width="24"
                                                height="24" />
                                            Danh sách coupon
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item d-flex align-items-center gap-2"
                                            href="/web/guivouchers">
                                            <img src="../../public/images/coupon.png" alt="Quản lý coupon" width="24"
                                                height="24" />
                                            Gửi coupon
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="/web/danhgias">
                                    <img src="../../public/images/danhgia.png" alt="Quản lý đánh giá" width="24"
                                        height="24" />
                                    Quản lý đánh giá
                                </a>
                            </li>

                        </ul>
                    </div>
                </div>
            </div>


            <!-- Main content (có margin-left để tránh bị che khuất bởi sidebar) -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4" style="margin-left: 250px;">


                <!-- Modal Xác nhận Logout -->
                <div class="modal fade" id="confirmLogOutModal" tabindex="-1" aria-labelledby="confirmLogOutModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="confirmLogOutModalLabel">Xác nhận đăng xuất</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                Bạn có chắc chắn muốn đăng xuất không?
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                                <form id="confirmLogOutButton" action="/web/auth/logout" method="POST">
                                    <button type="submit" class="btn btn-danger">Đăng xuất</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Modal Thông báo -->
                <div class="modal fade" id="notificationModal" tabindex="-1" aria-labelledby="notificationModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="notificationModalLabel">Thông báo</h5>
                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <!-- Chọn chế độ lọc -->
                          <div class="d-flex justify-content-center mb-3">
                            <button id="filterUnreadNotifications" class="btn btn-primary btn-sm me-2">Chưa đọc</button>
                            <button id="filterReadNotifications" class="btn btn-secondary btn-sm">Đã đọc</button>
                          </div>
                  
                          <!-- Danh sách thông báo -->
                          <div id="notificationList">
                            <ul class="list-group">
                              <!-- Danh sách thông báo sẽ được thêm vào đây -->
                            </ul>
                          </div>
                  
                          <!-- Khu vực chi tiết thông báo -->
                          <div id="notificationDetailsContainer" class="d-none">
                            <div class="d-flex align-items-center mb-3">
                              <img id="notificationAvatar" src="/public/images/avatar.png" alt="Avatar" class="rounded-circle me-3" style="width: 50px; height: 50px;">
                              <h6 id="notificationDetailsTitle">Chi tiết thông báo</h6>
                            </div>
                            <p id="notificationDetails"></p>
                            <small class="text-muted" id="notificationTime"></small>
                            <div class="d-flex justify-content-center mt-3">
                              <button id="backToList" class="btn btn-secondary btn-sm">Quay lại danh sách</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  